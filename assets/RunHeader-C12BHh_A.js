import{j as t}from"./jsx-runtime-QvtbNqby.js";import{u as F}from"./index-yfVukVkJ.js";import{u as k}from"./usePrefix-CXWdRn9x.js";import{_ as x}from"./floating-ui.dom.mjs-PU7UL9dJ.js";import{P as e}from"./index-kGlasm3i.js";import{r as g,R as f}from"./index-BjzEU6Zr.js";import{c as C}from"./index-CjLpwf8N.js";import{d as R}from"./index-Dc4QqC9m.js";import{c as N}from"./events-OVwOsPzJ.js";import{I as L}from"./index-Da0at1PC.js";import{n as y}from"./noopFn-g4z370MD.js";import{L as P}from"./index-DCnOq7yB.js";import{c as D}from"./bucket-3-Dq7FRXBG.js";import{h as I}from"./index-CfoIBI3E.js";import{F as O}from"./FormattedDate-BAq0MZ-2.js";function j(r){let{align:l="bottom",autoAlign:s=!1,children:n,className:o,feedback:i="Copied!",feedbackTimeout:c=2e3,onAnimationEnd:m,onClick:p=y,...a}=r;const[d,h]=g.useState(""),u=k(),M=C(o,`${u}--copy`,{[`${u}--copy-btn--animating`]:d,[`${u}--copy-btn--${d}`]:d}),b=g.useCallback(R(()=>{h("fade-out")},c),[c]),$=g.useCallback(()=>{h("fade-in"),b()},[b]),T=v=>{v.animationName===`${u}--hide-feedback`&&h("")};g.useEffect(()=>()=>{b.cancel()},[b]);const _=a["aria-label"]??"";return f.createElement(L,x({closeOnActivation:!1,align:l,autoAlign:s,className:M,label:d?i:_,onClick:N([p,$]),onAnimationEnd:N([m,T])},a,{"aria-label":!n&&(d?i:a["aria-label"])||void 0}),n)}j.propTypes={align:e.oneOf(["top","top-left","top-right","bottom","bottom-left","bottom-right","left","right"]),autoAlign:e.bool,children:e.node,className:e.string,feedback:e.string,feedbackTimeout:e.number,onAnimationEnd:e.func,onClick:e.func};function E(r){let{align:l="bottom",autoAlign:s=!1,feedback:n="Copied!",feedbackTimeout:o=2e3,iconDescription:i="Copy to clipboard",className:c,onClick:m=y,...p}=r;const a=k();return f.createElement(P,{size:{default:"md",max:"lg"}},f.createElement(j,x({feedback:n,feedbackTimeout:o,onClick:m,align:l,autoAlign:s,className:C(c,`${a}--copy-btn`),"aria-label":i},p),f.createElement(D,{className:`${a}--snippet__icon`})))}E.propTypes={align:e.oneOf(["top","top-left","top-right","bottom","bottom-left","bottom-right","left","right"]),autoAlign:e.bool,className:e.string,feedback:e.string,feedbackTimeout:e.number,iconDescription:e.string,onClick:e.func};const A=r=>{let{className:l,...s}=r;const n=k(),o=C({[`${n}--skeleton__placeholder`]:!0},l);return f.createElement("div",x({className:o},s))};A.propTypes={className:e.string};function S({children:r,icon:l,lastTransitionTime:s,loading:n,message:o,runName:i,reason:c,status:m,triggerHeader:p}){const a=F();function d(){I(o)}return t.jsx("header",{className:"tkn--pipeline-run-header","data-succeeded":m,"data-reason":c,children:n?t.jsx(A,{className:"tkn--header-skeleton",title:a.formatMessage({id:"dashboard.loading",defaultMessage:"Loadingâ€¦"})}):i&&t.jsxs(t.Fragment,{children:[t.jsxs("h1",{className:"tkn--run-header--heading",children:[t.jsx("div",{className:"tkn--run-name",title:i,children:i}),l,t.jsx("span",{className:"tkn--time",children:s?a.formatMessage({id:"dashboard.lastUpdated",defaultMessage:"Last updated {time}"},{time:t.jsx(O,{date:s,relative:!0})}):null}),r]}),t.jsxs("div",{className:"tkn--status",children:[t.jsx("span",{className:"tkn--status-label",children:c}),o&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"tkn--status-message",title:o,children:o}),t.jsx(E,{feedback:a.formatMessage({id:"dashboard.clipboard.copied",defaultMessage:"Copied!"}),iconDescription:a.formatMessage({id:"dashboard.clipboard.copyStatusMessage",defaultMessage:"Copy status message to clipboard"}),onClick:d})]})]}),p]})})}S.__docgenInfo={description:"",methods:[],displayName:"RunHeader"};export{S as R};
