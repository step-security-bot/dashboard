function l(e){const{conditions:t=[]}=e.status||{};return t.find(n=>n.type==="Succeeded")||{}}const m="*";function p(...e){const t=[];return e.forEach(n=>{if(!n)return;const i=typeof n;i==="string"?t.push(n):i==="object"&&Object.keys(n).forEach(s=>{n[s]&&t.push(s)})}),t.join(" ")}const g=e=>{navigator.clipboard?.writeText(e)};function S(e){return!e||typeof e=="string"?e:e.message||JSON.stringify(e,Object.getOwnPropertyNames(e))}function d({definition:e,field:t,mergeKey:n,step:i,stepTemplate:s}){let r=s[t];if(!r)return;r=[...r],(i[t]||[]).forEach(o=>{const c=r.findIndex(a=>a[n]===o[n]);c!==-1?r[c]=o:r.push(o)}),e[t]=r}function f({step:e,stepTemplate:t}){if(!e||!t)return e;const n={...t,...e};return[{field:"ports",mergeKey:"containerPort"},{field:"env",mergeKey:"name"},{field:"volumeMounts",mergeKey:"mountPath"},{field:"volumeDevices",mergeKey:"devicePath"}].forEach(({field:i,mergeKey:s})=>d({definition:n,field:i,mergeKey:s,step:e,stepTemplate:t})),n}function h({selectedStepId:e,task:t,taskRun:n}){if(!e)return null;const i=n.status?.taskSpec?.stepTemplate||n.spec?.taskSpec?.stepTemplate||t?.spec?.stepTemplate;let s=[];n.status?.taskSpec?.steps?s=n.status.taskSpec.steps:n.spec?.taskSpec?.steps?s=n.spec.taskSpec.steps:t?.spec?.steps&&(s=t.spec.steps);const r=s?.find(a=>a.name===e);if(r)return f({step:r,stepTemplate:i});if(!n.status)return null;const u=n.status.steps?.filter(({name:a})=>a.startsWith("unnamed-"))||[],o=s.filter(({name:a})=>!a),c=u.findIndex(({name:a})=>a===e);return f({step:o[c],stepTemplate:i})}function x({selectedStepId:e,taskRun:t}){return t.status?.steps?.find(n=>n.name===e)}function C(e){if(!e)return{};let t,n;const i=e?.terminated?.exitCode;return e.terminated?(t="terminated",n=e.terminated.reason):e.running?t="running":e.waiting&&(t="waiting"),{exitCode:i,reason:n,status:t}}function M(e,t){return t==="running"||t==="Unknown"&&(e==="Running"||e==="PipelineRunStopping"||e==="CancelledRunningFinally"||e==="StoppedRunningFinally")}function y(e){return e?Object.entries(e).map(([t,n])=>`${t}: ${n}`):[]}function b(e){if(!e)return e;let t=e.length-1;return e.map((n,i)=>{if((!n.terminated||n.terminated.reason!=="Completed")&&(t=Math.min(i,t)),i>t){const{running:s,terminated:r,...u}=n;return{...u}}return n})}function E({params:e,inputs:t}){return e||t&&t.params}function T(e){return function(n){switch(n){case"close.menu":return e.formatMessage({id:"carbon.listBoxMenuIcon.close.menu",defaultMessage:"Close menu"});case"open.menu":return e.formatMessage({id:"carbon.listBoxMenuIcon.open.menu",defaultMessage:"Open menu"});case"clear.all":return e.formatMessage({id:"carbon.listBoxSelection.clear.all",defaultMessage:"Clear all selected items"});case"clear.selection":return e.formatMessage({id:"carbon.listBoxSelection.clear.selection",defaultMessage:"Clear selected item"});default:return""}}}function P(e){const{reason:t,status:n}=l(e);return n!=="True"||t!=="Succeeded"?!1:!!e.status?.steps?.find(s=>s.terminated?.reason==="Completed"&&s.terminated?.exitCode!==0)}export{m as A,C as a,S as b,p as c,h as d,x as e,y as f,l as g,g as h,M as i,E as j,T as k,P as t,b as u};
