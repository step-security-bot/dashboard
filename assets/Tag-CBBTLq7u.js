import{j as H,_ as x,m as L,E as W,k as q,u as F}from"./floating-ui.dom.mjs-PU7UL9dJ.js";import{P as n}from"./index-kGlasm3i.js";import{r as C,R as o}from"./index-BjzEU6Zr.js";import{c as I}from"./index-CjLpwf8N.js";import{u as M}from"./usePrefix-CXWdRn9x.js";import{d as $,T as v}from"./deprecate-GNGtdTso.js";import{P as K,b as Y}from"./Tooltip-BJBVfZ_G.js";import{C as Z}from"./bucket-3-Dq7FRXBG.js";const A=r=>{let{align:h="bottom-start",className:N,children:e,definition:f,defaultOpen:T=!1,id:l,openOnHover:b,tooltipText:c,triggerClassName:y,...u}=r;const[i,a]=C.useState(T),g=M(),d=H(l);function m(t){i&&L(t,W)&&(t.stopPropagation(),a(!1))}return o.createElement(K,{align:h,className:N,dropShadow:!1,highContrast:!0,onMouseLeave:()=>{a(!1)},onMouseEnter:()=>{b&&a(!0)},onFocus:()=>{a(!0)},open:i},o.createElement("button",x({},u,{className:I(`${g}--definition-term`,y),"aria-controls":d,"aria-expanded":i,onBlur:()=>{a(!1)},onMouseDown:t=>{t.button===0&&a(!i)},onKeyDown:m,type:"button"}),e),o.createElement(Y,{className:`${g}--definition-tooltip`,id:d},c??f))};A.propTypes={align:n.oneOf(["top","top-left","top-right","bottom","bottom-left","bottom-right","left","left-bottom","left-top","right","right-bottom","right-top","top-start","top-end","bottom-start","bottom-end","left-end","left-start","right-end","right-start"]),children:n.node.isRequired,className:n.string,defaultOpen:n.bool,definition:n.node.isRequired,id:n.string,openOnHover:n.bool,tooltipText:$(n.node),triggerClassName:n.string};const J=r=>r?r?.offsetWidth<r?.scrollWidth:!1;var z;const P={red:"Red",magenta:"Magenta",purple:"Purple",blue:"Blue",cyan:"Cyan",teal:"Teal",green:"Green",gray:"Gray","cool-gray":"Cool-Gray","warm-gray":"Warm-Gray","high-contrast":"High-Contrast",outline:"Outline"},Q={sm:"sm",md:"md",lg:"lg"},U=o.forwardRef(function(h,N){let{children:e,className:f,id:T,type:l,filter:b,renderIcon:c,title:y="Clear filter",disabled:u,onClose:i,size:a,as:g,slug:d,...m}=h;const t=M(),O=C.useRef(),B=q([N,O]),k=T||`tag-${F()}`,[R,D]=C.useState(!1);C.useLayoutEffect(()=>{const s=O.current?.getElementsByClassName(`${t}--tag__label`)[0];D(J(s))},[t,O]);const E=[`${t}--tag--selectable`,`${t}--tag--filter`,`${t}--tag--operational`].some(s=>f?.includes(s)),w=I(`${t}--tag`,f,{[`${t}--tag--disabled`]:u,[`${t}--tag--filter`]:b,[`${t}--tag--${a}`]:a,[`${t}--layout--size-${a}`]:a,[`${t}--tag--${l}`]:l,[`${t}--tag--interactive`]:m.onClick&&!E&&R}),p=l!==void 0&&l in Object.keys(P)?P[l]:"",G=s=>{i&&(s.stopPropagation(),i(s))};let _;if(d&&d.type?.displayName==="AILabel"&&!E&&(_=o.cloneElement(d,{size:"sm",kind:"inline"})),b){const s=g??"div";return o.createElement(s,x({className:w,id:k},m),c&&a!=="sm"?o.createElement("div",{className:`${t}--tag__custom-icon`},o.createElement(c,null)):"",o.createElement(v,{title:typeof e=="string"?e:void 0,className:`${t}--tag__label`},e??p),_,o.createElement("button",{type:"button",className:`${t}--tag__close-icon`,onClick:G,disabled:u,"aria-label":y,title:y},z||(z=o.createElement(Z,null))))}const S=g??(m.onClick||f?.includes(`${t}--tag--operational`)?"button":"div"),j=I({[`${t}--tag__label`]:!E});return o.createElement(S,x({ref:B,disabled:u,className:w,id:k,type:S==="button"?"button":void 0},m),c&&a!=="sm"?o.createElement("div",{className:`${t}--tag__custom-icon`},o.createElement(c,null)):"",R&&!E?o.createElement(A,{openOnHover:!1,definition:e??p,className:`${t}--definition--tooltip--tag`},o.createElement(v,{title:e!=null&&typeof e=="string"?e:p,className:j},e??p)):o.createElement(v,{title:e!=null&&typeof e=="string"?e:p,className:j},e??p),_)});U.propTypes={as:n.elementType,children:n.node,className:n.string,disabled:n.bool,filter:$(n.bool),id:n.string,onClose:$(n.func),renderIcon:n.oneOfType([n.func,n.object]),size:n.oneOf(Object.keys(Q)),slug:n.node,title:$(n.string),type:n.oneOf(Object.keys(P))};export{U as T};
